<link rel="import" href="../bower_components/polymer/polymer.html">
<link rel="import" href="../bower_components/paper-input/paper-input.html">
<link rel="import" href="../bower_components/iron-icons/iron-icons.html">
<link rel="import" href="../bower_components/paper-icon-button/paper-icon-button.html">
<link rel="import" href="../bower_components/paper-icon-button/paper-icon-button.html">
<link rel="import" href="../bower_components/iron-ajax/iron-ajax.html">
<link rel="import" href="../bower_components/iron-icons/iron-icons.html">
<link rel="import" href="../bower_components/paper-item/paper-item.html">


<dom-module id="my-newUserControllPanel">

  <template>

    <style>

    </style>

    <!-- <iron-ajax
      id="ajax"
      content-type="application/json"
      url=""
      method=""
      last-response="{{dropDownList}}"
      body=""
      params="">
    </iron-ajax> -->

    <!-- <div class="card">
      <paper-icon-button icon="add" raised on-tap="_addNewUserInDom"></paper-icon-button>
      <paper-input value={{username::input}} label="username" id="inputWithButton">
      </paper-input> -->
    <paper-input id="Input" label="OneShot" type="number">
      <!-- <div suffix>score</div> -->
      <!-- <paper-icon-button suffix on-tap="clearInput()" icon="clear" alt="clear" title="clear">
      </paper-icon-button> -->
    </paper-input>
    <paper-button raised on-tap="_addScore">Add</paper-button>
    <!-- </div>
    <div id='div' class="card">
      <paper-item>
        {{dropDownList}}
      </paper-item>
    </div> -->

  </template>

  <script>

    Polymer({

      properties: {
        playerId: Number,

        gameId: Number,

      },

      is: 'my-newUserControllPanel',

      url: "http://ec2-52-29-108-53.eu-central-1.compute.amazonaws.com:855/scores",

      _addScore: function() {
        console.log({"game_id": this.gameId, "player_id": 55, "score": this.$.scoreInput.value});
        this.$.ajax.method = 'POST';
        this.$.ajax.url = this.url;
        this.$.ajax.body = JSON.stringify({"game_id": this.gameId, "player_id": 1, "score": this.$.scoreInput.value});
        this.currentList = this.dropDownList;
        this.$.ajax.generateRequest();
      },
      //
      // _addNewUserInDom: function() {
      //   let newuser = Polymer.Base.create('newUserControllPanel')
      //   // Polymer.dom(newuser).innerHTML =  this.$.inputWithButton.value;
      //
      //   Polymer.dom(newuser).appendChild(input)
      //
      //
      //   Polymer.dom(this.$.div).appendChild(newuser)
      //
      // }

    });

  </script>

</dom-module>
